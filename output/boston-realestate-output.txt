
> hypermind-examples@1.0.0 boston
> node examples/boston-realestate-agent.js

======================================================================
  BOSTON REAL ESTATE KNOWLEDGE GRAPH
  HyperMindAgent with Deductive Reasoning + Assertions
======================================================================

Source: City of Boston Open Data (data.boston.gov)
        Property Assessment Dataset (PDDL License)

[1] Loading Boston Property Assessment Knowledge Graph...
    Source: City of Boston Open Data (data.boston.gov)
    Triples: 287

[2] SPARQL Queries with Assertions:

    [PASS] Neighborhoods count = 10
    [PASS] Properties count = 18
    [PASS] Property types count = 4 (SingleFamily, Condo, MultiFamily, Commercial)
    [PASS] Back Bay properties count = 3
    [PASS] Neighborhood adjacencies = 9 (symmetric creates 18 links)
    [PASS] Price influence relationships found
    [PASS] High-value properties (Back Bay + Beacon Hill) found
    [PASS] Historic properties (Beacon Hill) found

[3] Schema Extraction:
    Classes: 0
    Predicates: 0
    Mode: Native Rust (NAPI-RS)
    [PASS] Schema extracted from graph

[4] Query Capabilities:

  Mode: NAPI-RS (native binding)
  Triples: 287
  Classes: 0
  Predicates: 0

    [PASS] Graph has classes
    [PASS] Graph has predicates

[5] HyperFederate SQL Generation (graph_search UDF):

  HyperFederate unifies SQL + Knowledge Graph queries via graph_search() UDF.
  This enables cross-source joins between SPARQL results and SQL tables.

  EXAMPLE: HyperFederate SQL with graph_search():
  ```sql
  -- HyperFederate SQL: Join Knowledge Graph + External Property Data
  SELECT
    kg.address,
    kg.assessed_value,
    kg.neighborhood,
    mls.listing_price,
    mls.days_on_market,
    (mls.listing_price - kg.assessed_value) AS price_premium
  FROM graph_search('
    PREFIX prop: <http://boston.gov/property#>
    SELECT ?address ?assessed_value ?neighborhood WHERE {
      ?p a prop:Property .
      ?p prop:address ?address .
      ?p prop:assessedValue ?assessed_value .
      ?p prop:locatedIn ?n .
      ?n rdfs:label ?neighborhood .
    }
  ') kg
  LEFT JOIN mls_listings mls
    ON kg.address = mls.property_address
  WHERE kg.assessed_value > 1000000
  ORDER BY price_premium DESC
  ```

  HONEST OUTPUT - graph_search() SPARQL executed standalone:

  HONEST RESULTS (from graph_search):
  | address                           | assessed_value | neighborhood    |
  |-----------------------------------|----------------|-----------------|
  | 165 Marlborough Street            |     $2,850,000 | Back Bay        |
  | 298 Commonwealth Avenue           |     $8,500,000 | Back Bay        |
  | 45 Newbury Street                 |     $4,200,000 | Back Bay        |
  | 72 Pinckney Street                |     $3,950,000 | Beacon Hill     |
  | 15 Chestnut Street                |     $1,650,000 | Beacon Hill     |
  | 45 Parsons Street                 |     $1,050,000 | Brighton        |

    [PASS] HyperFederate SQL shows high-value properties

[6] ThinkingReasoner with Deductive Reasoning:

  Auto-reasoning complete (OWL auto-detected from TTL)...
    Agent: boston-realestate-analyst
    LLM: OpenAI
    Observations: 0
    Derived Facts: 16
    Rules Applied: 2
    [PASS] Derived facts from OWL reasoning
    [PASS] OWL rules detected from TTL data

[7] Thinking Events (Real-time Reasoning Stream):

  üìù THINKING EVENTS (auto-captured during reasoning):

  ‚úÖ REASONING COMPLETE:
    - 0 observations (ground truth from KG)
    - 16 derived facts (inferred via OWL rules)
    - 2 rules applied (SymmetricProperty, TransitiveProperty)
    - Every fact is traceable to source data (no hallucination)

[8] Use Case Queries (SPARQL-first, deterministic):

------------------------------------------------------------
INVESTOR: "What are the highest-value properties in Back Bay?"
VALUE: Identify premium investment opportunities in historic districts
------------------------------------------------------------

SPARQL:
```sparql
SELECT ?address ?value ?bedrooms WHERE {
        ?property <http://boston.gov/property#locatedIn> <http://boston.gov/property#BackBay> .
        ?property <http://boston.gov/property#address> ?address .
        ?property <http://boston.gov/property#assessedValue> ?value .
        OPTIONAL { ?property <http://boston.gov/property#bedrooms> ?bedrooms }
      }
```

RESULTS: 2 bindings
SAMPLE (first 5):
  property=property_BB001, address=165 Marlborough Street, bedrooms=3, value=$2,850,000
  address=298 Commonwealth Avenue, bedrooms=6, value=$8,500,000, property=property_BB002
    [PASS] INVESTOR: What are the highest-value properties in Back Bay?

REASONING CONTEXT:
  Observations: 0
  Derived Facts: 16
  Rules Applied: 2

------------------------------------------------------------
HOME BUYER: "Which neighborhoods are adjacent to Back Bay?"
VALUE: Discover walkable neighborhoods near target area
------------------------------------------------------------

SPARQL:
```sparql
SELECT ?neighbor ?label WHERE {
        <http://boston.gov/property#BackBay> <http://boston.gov/property#adjacentTo> ?neighbor .
        ?neighbor <http://www.w3.org/2000/01/rdf-schema#label> ?label .
      }
```

RESULTS: 2 bindings
SAMPLE (first 5):
  label=South End, neighbor=SouthEnd
  neighbor=BeaconHill, label=Beacon Hill
    [PASS] HOME BUYER: Which neighborhoods are adjacent to Back Bay?

REASONING CONTEXT:
  Observations: 0
  Derived Facts: 16
  Rules Applied: 2

------------------------------------------------------------
APPRAISER: "What properties influence pricing in the market?"
VALUE: Understand comparable property relationships
------------------------------------------------------------

SPARQL:
```sparql
SELECT ?property ?influenced ?address WHERE {
        ?property <http://boston.gov/property#priceInfluencedBy> ?influenced .
        ?property <http://boston.gov/property#address> ?address .
      }
```

RESULTS: 7 bindings
SAMPLE (first 5):
  property=property_BB001, address=165 Marlborough Street, influenced=property_BB002
  influenced=property_BH001, address=298 Commonwealth Avenue, property=property_BB002
  property=property_BH001, address=72 Pinckney Street, influenced=property_BH002
  property=property_DO001, address=127 Savin Hill Avenue, influenced=property_DO002
  influenced=property_JP002, address=42 Sedgwick Street, property=property_JP001
    [PASS] APPRAISER: What properties influence pricing in the market?

REASONING CONTEXT:
  Observations: 0
  Derived Facts: 16
  Rules Applied: 2

------------------------------------------------------------
HISTORIAN: "What are the oldest properties in Beacon Hill?"
VALUE: Research historic architecture and preservation
------------------------------------------------------------

SPARQL:
```sparql
SELECT ?address ?year WHERE {
        ?property <http://boston.gov/property#yearBuilt> ?year .
        ?property <http://boston.gov/property#address> ?address .
        ?property <http://boston.gov/property#locatedIn> <http://boston.gov/property#BeaconHill> .
      }
```

RESULTS: 2 bindings
SAMPLE (first 5):
  property=property_BH001, year=1830, address=72 Pinckney Street
  address=15 Chestnut Street, property=property_BH002, year=1845
    [PASS] HISTORIAN: What are the oldest properties in Beacon Hill?

REASONING CONTEXT:
  Observations: 0
  Derived Facts: 16
  Rules Applied: 2

------------------------------------------------------------
DEVELOPER: "What multi-family properties exist in emerging areas?"
VALUE: Find development opportunities in residential zones
------------------------------------------------------------

SPARQL:
```sparql
SELECT ?address ?value ?bedrooms WHERE {
        ?property <http://boston.gov/property#hasType> <http://boston.gov/property#MultiFamily> .
        ?property <http://boston.gov/property#address> ?address .
        ?property <http://boston.gov/property#assessedValue> ?value .
        OPTIONAL { ?property <http://boston.gov/property#bedrooms> ?bedrooms }
      }
```

RESULTS: 5 bindings
SAMPLE (first 5):
  bedrooms=6, property=property_DO001, address=127 Savin Hill Avenue, value=$950,000
  address=156 Bennington Street, property=property_EB001, value=$875,000, bedrooms=6
  address=52 Warren Street, bedrooms=6, property=property_RX001, value=$685,000
  address=512 East Broadway, value=$1,850,000, bedrooms=7, property=property_SB002
  value=$2,400,000, address=534 Tremont Street, property=property_SE001, bedrooms=8
    [PASS] DEVELOPER: What multi-family properties exist in emerging areas?

REASONING CONTEXT:
  Observations: 0
  Derived Facts: 16
  Rules Applied: 2

[9] HyperMindAgent Natural Language Queries (LLM-assisted):

  Question: "What are the most expensive properties in Boston?"
  Generated SQL (with graph_search CTE):
  ```sql
  WITH kg AS (SELECT * FROM graph_search('PREFIX prop: <http://boston.gov/property#> SELECT ?property ?value WHERE { ?property prop:assessedValue ?value . } ORDER BY DESC(?value) LIMIT 10')) SELECT * FROM kg;
  ```
  sparql_inside_cte:
  ```sparql
  PREFIX prop: <http://boston.gov/property#> SELECT ?property ?value WHERE { ?property prop:assessedValue ?value . } ORDER BY DESC(?value) LIMIT 10
  ```
  RESULTS (actual data):
  ANSWER: The derived facts suggest that properties in the Back Bay area, such as property_BB001 and property_BB002, are influenced by the prices of properties in Beacon Hill, indicating they may be among the most expensive in Boston.
  REASONING: 0 observations -> 16 derived facts
  PROOF (first 3 steps):
    Step 1: [owl:SymmetricProperty] http://boston.gov/property#SouthEnd http://boston.gov/property#adjacentTo http://boston.gov/property#BackBay
    Step 2: [owl:SymmetricProperty] http://boston.gov/property#BeaconHill http://boston.gov/property#adjacentTo http://boston.gov/property#BackBay
    Step 3: [owl:SymmetricProperty] http://boston.gov/property#JamaicaPlain http://boston.gov/property#adjacentTo http://boston.gov/property#Brighton

  Question: "Which neighborhoods are near Beacon Hill?"
  Generated SQL (with graph_search CTE):
  ```sql
  WITH kg AS (SELECT * FROM graph_search('PREFIX prop: <http://boston.gov/property#> SELECT ?neighborhood WHERE { ?neighborhood prop:adjacentTo <http://boston.gov/property#BeaconHill> }')) SELECT * FROM kg;
  ```
  sparql_inside_cte:
  ```sparql
  PREFIX prop: <http://boston.gov/property#> SELECT ?neighborhood WHERE { ?neighborhood prop:adjacentTo <http://boston.gov/property#BeaconHill> }
  ```
  RESULTS (actual data):
  ANSWER: Beacon Hill is adjacent to Back Bay and Charlestown.
  REASONING: 0 observations -> 16 derived facts
  PROOF (first 3 steps):
    Step 1: [owl:SymmetricProperty] http://boston.gov/property#SouthEnd http://boston.gov/property#adjacentTo http://boston.gov/property#BackBay
    Step 2: [owl:SymmetricProperty] http://boston.gov/property#BeaconHill http://boston.gov/property#adjacentTo http://boston.gov/property#BackBay
    Step 3: [owl:SymmetricProperty] http://boston.gov/property#JamaicaPlain http://boston.gov/property#adjacentTo http://boston.gov/property#Brighton

[10] Geographic Map Visualization:

  Properties with geographic coordinates for Leaflet/OpenStreetMap display.
  WGS84 coordinates enable real-time property mapping.

  PROPERTY LOCATIONS (for Leaflet/OpenStreetMap):
  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  ‚îÇ Address                     ‚îÇ   Lat    ‚îÇ   Long   ‚îÇ  Value      ‚îÇ Area   ‚îÇ
  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
  ‚îÇ 165 Marlborough Street      ‚îÇ  42.3512 ‚îÇ  -71.0842 ‚îÇ       $2.9M ‚îÇ Back B ‚îÇ
  ‚îÇ 298 Commonwealth Avenue     ‚îÇ  42.3498 ‚îÇ  -71.0867 ‚îÇ       $8.5M ‚îÇ Back B ‚îÇ
  ‚îÇ 45 Newbury Street           ‚îÇ  42.3525 ‚îÇ  -71.0760 ‚îÇ       $4.2M ‚îÇ Back B ‚îÇ
  ‚îÇ 72 Pinckney Street          ‚îÇ  42.3593 ‚îÇ  -71.0684 ‚îÇ       $4.0M ‚îÇ Beacon ‚îÇ
  ‚îÇ 15 Chestnut Street          ‚îÇ  42.3587 ‚îÇ  -71.0718 ‚îÇ       $1.6M ‚îÇ Beacon ‚îÇ
  ‚îÇ 42 Sedgwick Street          ‚îÇ  42.3089 ‚îÇ  -71.1168 ‚îÇ       $1.3M ‚îÇ Jamaic ‚îÇ
  ‚îÇ 534 Tremont Street          ‚îÇ  42.3405 ‚îÇ  -71.0732 ‚îÇ       $2.4M ‚îÇ South  ‚îÇ
  ‚îÇ 88 Waltham Street           ‚îÇ  42.3418 ‚îÇ  -71.0715 ‚îÇ       $0.9M ‚îÇ South  ‚îÇ
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

  MAP BOUNDS (for auto-zoom):
    Center: [42.3341, -71.0926]
    SW Corner: [42.3089, -71.1168]
    NE Corner: [42.3593, -71.0684]

  HyperCoder ComponentFactory.createMap() generates:
  - Leaflet/OpenStreetMap integration
  - Property markers with popup details
  - Auto-fit bounds to all properties
  - Click marker -> property details

    [PASS] Properties have geographic coordinates

======================================================================
  TEST RESULTS SUMMARY
======================================================================

  PASSED: 20
  FAILED: 0
  TOTAL:  20

  PASS RATE: 100.0%

======================================================================
  ARCHITECTURE SUMMARY - ALL IN-MEMORY
======================================================================

  KNOWLEDGE GRAPH (In-Memory):
    Triples: 287
    Neighborhoods: 10
    Properties: 18
    Property Types: 4
    Adjacency Links: 9
    Price Influences: 7

  SCHEMA EXTRACTION (Native Rust):
    Classes: 0
    Predicates: 0
    Mode: NAPI-RS (native binding)

  THINKING REASONER (In-Memory):
    Observations: 0
    Derived Facts: 16
    OWL Rules: 2
    - SymmetricProperty: A adjacentTo B => B adjacentTo A
    - TransitiveProperty: A priceInfluencedBy B, B priceInfluencedBy C => A priceInfluencedBy C

  REAL ESTATE USE CASES:
    - Property valuation with comparable analysis
    - Neighborhood discovery for home buyers
    - Investment opportunity identification
    - Historic preservation research
    - Development site analysis

  BENEFITS:
    - Zero latency: No network I/O
    - Offline capable: Works without internet
    - Privacy: All data in process memory
    - Verifiable: Assertions prove correctness

  JSON output saved to: output/boston-realestate-output.json

