======================================================================
  BOSTON REAL ESTATE KNOWLEDGE GRAPH
  HyperMindAgent with Deductive Reasoning + Assertions
======================================================================

Source: City of Boston Open Data (data.boston.gov)
        Property Assessment Dataset (PDDL License)

[1] Loading Boston Property Assessment Knowledge Graph...
    Source: City of Boston Open Data (data.boston.gov)
    Triples: 287

[2] SPARQL Queries with Assertions:

    [PASS] Neighborhoods count = 10
    [PASS] Properties count = 18
    [PASS] Property types count = 4 (SingleFamily, Condo, MultiFamily, Commercial)
    [PASS] Back Bay properties count = 3
    [PASS] Neighborhood adjacencies = 9 (symmetric creates 18 links)
    [PASS] Price influence relationships found
    [PASS] High-value properties (Back Bay + Beacon Hill) found
    [PASS] Historic properties (Beacon Hill) found

[3] Schema Extraction:
    Classes: 0
    Predicates: 0
    Mode: Native Rust (NAPI-RS)
    [PASS] Schema extracted from graph

[4] Query Capabilities:

  Mode: NAPI-RS (native binding)
  Triples: 287
  Classes: 0
  Predicates: 0

    [PASS] Graph has classes
    [PASS] Graph has predicates

[5] HyperFederate SQL Generation (graph_search UDF):

  HyperFederate unifies SQL + Knowledge Graph queries via graph_search() UDF.
  This enables cross-source joins between SPARQL results and SQL tables.

  EXAMPLE: HyperFederate SQL with graph_search():
  ```sql
  -- HyperFederate SQL: Join Knowledge Graph + External Property Data
  SELECT
    kg.address,
    kg.assessed_value,
    kg.neighborhood,
    mls.listing_price,
    mls.days_on_market,
    (mls.listing_price - kg.assessed_value) AS price_premium
  FROM graph_search('
    PREFIX prop: <http://boston.gov/property#>
    SELECT ?address ?assessed_value ?neighborhood WHERE {
      ?p a prop:Property .
      ?p prop:address ?address .
      ?p prop:assessedValue ?assessed_value .
      ?p prop:locatedIn ?n .
      ?n rdfs:label ?neighborhood .
    }
  ') kg
  LEFT JOIN mls_listings mls
    ON kg.address = mls.property_address
  WHERE kg.assessed_value > 1000000
  ORDER BY price_premium DESC
  ```

  HONEST OUTPUT - graph_search() SPARQL executed standalone:

  HONEST RESULTS (from graph_search):
  | address                           | assessed_value | neighborhood    |
  |-----------------------------------|----------------|-----------------|
  | 165 Marlborough Street            |     $2,850,000 | Back Bay        |
  | 298 Commonwealth Avenue           |     $8,500,000 | Back Bay        |
  | 45 Newbury Street                 |     $4,200,000 | Back Bay        |
  | 72 Pinckney Street                |     $3,950,000 | Beacon Hill     |
  | 15 Chestnut Street                |     $1,650,000 | Beacon Hill     |
  | 45 Parsons Street                 |     $1,050,000 | Brighton        |

    [PASS] HyperFederate SQL shows high-value properties

[6] ThinkingReasoner with Deductive Reasoning:

  Custom rules (OWL-based, auto-detected):
    1. SymmetricProperty: adjacentTo(A, B) => adjacentTo(B, A)
    2. TransitiveProperty: priceInfluencedBy chain reasoning
    3. High-value detection: assessedValue > $1M => premium
  Training RDF2Vec embeddings...
    ✓ RDF2Vec: 384-dim embeddings trained (50 walks, 6 length, 3 epochs)
  Building GraphFrame for analytics...
    ✓ GraphFrame: Graph analytics ready
  Agent capabilities: [object Object], [object Object], [object Object], [object Object], [object Object]
  Auto-reasoning complete (OWL auto-detected from TTL)...
    Agent: boston-realestate-analyst
    LLM: OpenAI
    Triple count: 287
    [PASS] Agent initialized with data

[7] Reasoning Demonstration (SPARQL-based OWL inference):

  [OBSERVE] Symmetric adjacency relationships:
    → SouthEnd adjacentTo Roxbury
    → JamaicaPlain adjacentTo Roxbury
    → BackBay adjacentTo SouthEnd
    → BackBay adjacentTo BeaconHill
    → SouthEnd adjacentTo Dorchester
    → Charlestown adjacentTo EastBoston
    ... and 3 more

  [INFER] Price influence relationships:
    ⟹ property_BB001 priceInfluencedBy property_BB002
    ⟹ property_BB002 priceInfluencedBy property_BH001
    ⟹ property_BH001 priceInfluencedBy property_BH002
    ⟹ property_DO001 priceInfluencedBy property_DO002
    ⟹ property_JP001 priceInfluencedBy property_JP002
    ⟹ property_SB001 priceInfluencedBy property_SB002

  ✅ REASONING COMPLETE:
    - 9 symmetric adjacency facts
    - 7 price influence relationships
    - OWL rules: SymmetricProperty, TransitiveProperty
    - Every fact is traceable to source data (no hallucination)

[8] Use Case Queries (SPARQL-first, deterministic):

------------------------------------------------------------
INVESTOR: "What are the highest-value properties in Back Bay?"
VALUE: Identify premium investment opportunities in historic districts
------------------------------------------------------------

SPARQL:
```sparql
SELECT ?address ?value ?bedrooms WHERE {
        ?property <http://boston.gov/property#locatedIn> <http://boston.gov/property#BackBay> .
        ?property <http://boston.gov/property#address> ?address .
        ?property <http://boston.gov/property#assessedValue> ?value .
        OPTIONAL { ?property <http://boston.gov/property#bedrooms> ?bedrooms }
      }
```

RESULTS: 2 bindings
SAMPLE (first 5):
  address=165 Marlborough Street, property=property_BB001, bedrooms=3, value=$2,850,000
  address=298 Commonwealth Avenue, bedrooms=6, property=property_BB002, value=$8,500,000
    [PASS] INVESTOR: What are the highest-value properties in Back Bay?

REASONING CONTEXT:
  Observations: 287
  Derived Facts: 303
  Rules Applied: 3

------------------------------------------------------------
HOME BUYER: "Which neighborhoods are adjacent to Back Bay?"
VALUE: Discover walkable neighborhoods near target area
------------------------------------------------------------

SPARQL:
```sparql
SELECT ?neighbor ?label WHERE {
        <http://boston.gov/property#BackBay> <http://boston.gov/property#adjacentTo> ?neighbor .
        ?neighbor <http://www.w3.org/2000/01/rdf-schema#label> ?label .
      }
```

RESULTS: 2 bindings
SAMPLE (first 5):
  neighbor=SouthEnd, label=South End
  label=Beacon Hill, neighbor=BeaconHill
    [PASS] HOME BUYER: Which neighborhoods are adjacent to Back Bay?

REASONING CONTEXT:
  Observations: 287
  Derived Facts: 303
  Rules Applied: 3

------------------------------------------------------------
APPRAISER: "What properties influence pricing in the market?"
VALUE: Understand comparable property relationships
------------------------------------------------------------

SPARQL:
```sparql
SELECT ?property ?influenced ?address WHERE {
        ?property <http://boston.gov/property#priceInfluencedBy> ?influenced .
        ?property <http://boston.gov/property#address> ?address .
      }
```

RESULTS: 7 bindings
SAMPLE (first 5):
  influenced=property_BB002, address=165 Marlborough Street, property=property_BB001
  address=298 Commonwealth Avenue, property=property_BB002, influenced=property_BH001
  property=property_BH001, address=72 Pinckney Street, influenced=property_BH002
  property=property_DO001, address=127 Savin Hill Avenue, influenced=property_DO002
  influenced=property_JP002, property=property_JP001, address=42 Sedgwick Street
    [PASS] APPRAISER: What properties influence pricing in the market?

REASONING CONTEXT:
  Observations: 287
  Derived Facts: 303
  Rules Applied: 3

------------------------------------------------------------
HISTORIAN: "What are the oldest properties in Beacon Hill?"
VALUE: Research historic architecture and preservation
------------------------------------------------------------

SPARQL:
```sparql
SELECT ?address ?year WHERE {
        ?property <http://boston.gov/property#yearBuilt> ?year .
        ?property <http://boston.gov/property#address> ?address .
        ?property <http://boston.gov/property#locatedIn> <http://boston.gov/property#BeaconHill> .
      }
```

RESULTS: 2 bindings
SAMPLE (first 5):
  year=1830, property=property_BH001, address=72 Pinckney Street
  address=15 Chestnut Street, year=1845, property=property_BH002
    [PASS] HISTORIAN: What are the oldest properties in Beacon Hill?

REASONING CONTEXT:
  Observations: 287
  Derived Facts: 303
  Rules Applied: 3

------------------------------------------------------------
DEVELOPER: "What multi-family properties exist in emerging areas?"
VALUE: Find development opportunities in residential zones
------------------------------------------------------------

SPARQL:
```sparql
SELECT ?address ?value ?bedrooms WHERE {
        ?property <http://boston.gov/property#hasType> <http://boston.gov/property#MultiFamily> .
        ?property <http://boston.gov/property#address> ?address .
        ?property <http://boston.gov/property#assessedValue> ?value .
        OPTIONAL { ?property <http://boston.gov/property#bedrooms> ?bedrooms }
      }
```

RESULTS: 5 bindings
SAMPLE (first 5):
  value=$950,000, property=property_DO001, address=127 Savin Hill Avenue, bedrooms=6
  value=$875,000, address=156 Bennington Street, bedrooms=6, property=property_EB001
  property=property_RX001, bedrooms=6, value=$685,000, address=52 Warren Street
  property=property_SB002, address=512 East Broadway, bedrooms=7, value=$1,850,000
  value=$2,400,000, property=property_SE001, bedrooms=8, address=534 Tremont Street
    [PASS] DEVELOPER: What multi-family properties exist in emerging areas?

REASONING CONTEXT:
  Observations: 287
  Derived Facts: 303
  Rules Applied: 3

[9] HyperMindAgent Natural Language (ask + askAgentic):

  --- ask() - Simple Query (KG-grounded) ---
  Question: "What are the most expensive properties in Boston?"
  ANSWER: Found 5 results: "<http://boston.gov/property#property_DO001>", "<http://boston.gov/property#property_EB001>", "<http://boston.gov/property#property_SE002>", "<http://boston.gov/property#property_BB002>", "<http://boston.gov/property#property_DO002>"
  REASONING: To find the most expensive properties in Boston, we need to query the knowledge graph for properties and their assessed values. Then, we sort the resulting list by the assessed value in descending order to identify the most expensive ones. Finally, from the sorted list, we take the top results (e.g., top 5) and extract the property URIs.
  RHAI CODE: // Rhai code here - compose objects naturally

// Step 1: Query to get propertie...
  CAPABILITIES: query, construct, count, is_empty, load_ttl, federate, graph_search, apply_rules, derive, explain, extract_schema, get_classes, get_properties, store_memory, recall_memory, persist_memory, embed, similar, similarity, pagerank, triangle_count, connected_components, shortest_paths, label_propagation, show_definition, list_all_capabilities
  PROOF HASH: d027713343646b18...
  EXECUTION: 2.76ms
    [PASS] ask() returns grounded answer

  --- askAgentic() - Multi-Step Reasoning ---
  Question: "Analyze property values in Back Bay and adjacent neighborhoods. What trends do you see and which areas offer the best investment potential?"
  ANSWER: The analysis of property values in Back Bay and its adjacent neighborhoods: South End and Beacon Hill, reveals several insights:

### Back Bay:
- Properties in Back Bay have higher assessed values compared to the adjacent neighborhoods.
- The property values range significantly, with one property as high as $8,500,000 and another at $2,850,000.

### South End:
- Properties in the South End generally show lower values in comparison to Back Bay.
- The recorded properties are valued at $2,400,000 and $875,000, indicating a more affordable entry point.

### Beacon Hill:
- Beacon Hill's property values vary, with one property assessed at $3,950,000 and another at $1,650,000.
- The values in Beacon Hill are generally higher than in the South End, but some are lower compared to Back Bay.

### Investment Potential:
- **Back Bay** demonstrates higher property values, which may indicate higher demand and potential returns but also represents a higher investment barrier.
- **South End** has lower values, which might offer a more accessible investment opportunity with potential for value growth due to its proximity to Back Bay.
- **Beacon Hill** shows strong property values similar to Back Bay, indicating stable demand, which might attract investors looking for high-value investments with potential appreciation.

For the best investment potential, consider Back Bay for high-value investments and South End for more affordable entry with growth opportunities.
  REASONING: Completed in 4 turns
  TOOL CALLS: query({"sparql":"SELECT ?neighborhood ?property ?value WHERE {\n  ?property a <h...
  CAPABILITIES: query
  PROOF HASH: 8ca3e570c0b96b14...
  EXECUTION: 10699.65ms
    [PASS] askAgentic() performs multi-step analysis

  ┌────────────────────────────────────────────────────────────────────┐
  │ CAPABILITY COMPARISON: ask() vs askAgentic()                       │
  ├────────────────────────────────────────────────────────────────────┤
  │ Feature              │ ask()           │ askAgentic()              │
  ├──────────────────────┼─────────────────┼───────────────────────────┤
  │ Query Type           │ Single-turn     │ Multi-turn                │
  │ Tool Use             │ No              │ Yes (SPARQL, reasoning)   │
  │ Reasoning            │ Direct answer   │ Step-by-step chain        │
  │ Latency              │ Fast (~1-2s)    │ Slower (~5-15s)           │
  │ Use Case             │ Simple lookups  │ Complex analysis          │
  │ Proof Generation     │ Yes (hash)      │ Yes (full derivation)     │
  └────────────────────────────────────────────────────────────────────┘

[10] Geographic Map Visualization:

  Properties with geographic coordinates for Leaflet/OpenStreetMap display.
  WGS84 coordinates enable real-time property mapping.

  PROPERTY LOCATIONS (for Leaflet/OpenStreetMap):
  ┌───────────────────────────────────────────────────────────────────────────┐
  │ Address                     │   Lat    │   Long   │  Value      │ Area   │
  ├───────────────────────────────────────────────────────────────────────────┤
  │ 165 Marlborough Street      │  42.3512 │  -71.0842 │       $2.9M │ Back B │
  │ 298 Commonwealth Avenue     │  42.3498 │  -71.0867 │       $8.5M │ Back B │
  │ 45 Newbury Street           │  42.3525 │  -71.0760 │       $4.2M │ Back B │
  │ 72 Pinckney Street          │  42.3593 │  -71.0684 │       $4.0M │ Beacon │
  │ 15 Chestnut Street          │  42.3587 │  -71.0718 │       $1.6M │ Beacon │
  │ 42 Sedgwick Street          │  42.3089 │  -71.1168 │       $1.3M │ Jamaic │
  │ 534 Tremont Street          │  42.3405 │  -71.0732 │       $2.4M │ South  │
  │ 88 Waltham Street           │  42.3418 │  -71.0715 │       $0.9M │ South  │
  └───────────────────────────────────────────────────────────────────────────┘

  MAP BOUNDS (for auto-zoom):
    Center: [42.3341, -71.0926]
    SW Corner: [42.3089, -71.1168]
    NE Corner: [42.3593, -71.0684]

  HyperCoder ComponentFactory.createMap() generates:
  - Leaflet/OpenStreetMap integration
  - Property markers with popup details
  - Auto-fit bounds to all properties
  - Click marker -> property details

    [PASS] Properties have geographic coordinates

======================================================================
  TEST RESULTS SUMMARY
======================================================================

  PASSED: 21
  FAILED: 0
  TOTAL:  21

  PASS RATE: 100.0%

======================================================================
  ARCHITECTURE SUMMARY - ALL IN-MEMORY
======================================================================

  KNOWLEDGE GRAPH (In-Memory):
    Triples: 287
    Neighborhoods: 10
    Properties: 18
    Property Types: 4
    Adjacency Links: 9
    Price Influences: 7

  SCHEMA EXTRACTION (Native Rust):
    Classes: 0
    Predicates: 0
    Mode: NAPI-RS (native binding)

  THINKING REASONER (In-Memory):
    Observations: 287
    Derived Facts: 303
    OWL Rules: 3
    - SymmetricProperty: A adjacentTo B => B adjacentTo A
    - TransitiveProperty: A priceInfluencedBy B, B priceInfluencedBy C => A priceInfluencedBy C

  REAL ESTATE USE CASES:
    - Property valuation with comparable analysis
    - Neighborhood discovery for home buyers
    - Investment opportunity identification
    - Historic preservation research
    - Development site analysis

  BENEFITS:
    - Zero latency: No network I/O
    - Offline capable: Works without internet
    - Privacy: All data in process memory
    - Verifiable: Assertions prove correctness

  JSON output saved to: output/boston-realestate-output.json

